<style>
	.filterx {
  float: left;
  line-height: 100px;
  text-align: center;
  display: none;
}

.show {
  display: block;
}

.container {
  margin-top: 20px;
  overflow: hidden;
}

.btn {
  border: none;
  outline: none;
  padding: 12px 16px;
  background-color: #f1f1f1;
  cursor: pointer;
}

.btn:hover {
  background-color: #ddd;
}

.btn.active {
  background-color: #666;
  color: white;
}

img{width:150px;height:250px;float:left}

img:hover {
    transform: scale(1.2); 
}
</style>

<div id="myBtnContainer">

<button class="btn active" onclick="sxx('all')">All</button>
<button class="btn" onclick="sxx('Comedy')">Comedy</button>
<button class="btn" onclick="sxx('Action')">Action</button>
<button class="btn" onclick="sxx('Sci-Fi')">Sci-Fi</button>
<button class="btn" onclick="sxx('Adventure')">Adventure</button>
<button class="btn" onclick="sxx('Crime')">Crime</button>
<button class="btn" onclick="sxx('Thriller')">Thriller</button>
<button class="btn" onclick="sxx('Drama')">Drama</button>
<button class="btn" onclick="sxx('Fantasy')">Fantasy</button>  
<button class="btn" onclick="sxx('Mystery')">Mystery</button>
<button class="btn" onclick="sxx('Fantasy')">Fantasy</button>
<button class="btn" onclick="sxx('Animation')">Animation</button>
<button class="btn" onclick="sxx('Family')">Family</button>
<button class="btn" onclick="sxx('Horror')">Horror</button>
<button class="btn" onclick="sxx('Biography')">Biography</button>	
	
<input type="text" id="Search" onkeyup="myFunction()" placeholder=" Enter Name, Actor, Director, Year" >
</div>

<div class="container">
<div class=mypanel id=mypanel></div>	    
</div>


	       
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>

function tempAlert(msg,duration)
{
 var el = document.createElement("div");
 el.setAttribute("style","position: fixed;left: 0;bottom: 0;width: 100%; text-align:center; background-color:white;");
 el.innerHTML = msg;
 setTimeout(function(){
  el.parentNode.removeChild(el);
 },duration);
 document.body.appendChild(el);
}



function copyToClipboard(text){
    var dummy = document.createElement("input");
    document.body.appendChild(dummy);
    dummy.setAttribute('value', 'peerflix "magnet:?xt=urn:btih:' + text + '" --vlc');
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
	tempAlert('Peerflix Link Copied To Clipboard, Paste It on Console to Start Watching In VlC or <a target=_blank href=magnet:?xt=urn:btih:'+ text+'> Download Via Torrent</a><br> If peerflix Is not present, Install <a target=_blank href=https://nodejs.org/en/>Node JS</a> and then run command<br><font color="red"> npm install -g peerflix</font>',12000);
	window.open('https://instant.io/#' + text, '_blank');
}



function myFunction() {
  var input = document.getElementById("Search");
  var filter = input.value.toLowerCase();
  var nodes = document.getElementsByClassName('filterx');

  for (i = 0; i < nodes.length; i++) {
    if (nodes[i].title.toLowerCase().includes(filter)) {
      nodes[i].style.display = "block";
    } else {
      nodes[i].style.display = "none";
    }
  }
}



sxx("all")
function sxx(c) {
  var x, i;
  x = document.getElementsByClassName("filterx");
  if (c == "all") c = "";
  for (i = 0; i < x.length; i++) {
    RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) AddClass(x[i], "show");
  }
}



function AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
  }
}

function RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);     
    }
  }
  element.className = arr1.join(" ");
}

var btnContainer = document.getElementById("myBtnContainer");
var btns = btnContainer.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function(){
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}


// core begins 
var myarr;
var pets = new Array();
var incri = -1;
var tempmagnet;
var playing = 0;



			
// hex to string function
function hex2a(hexx) {
    var hex = hexx.toString();//force conversion
    var str = '';
    for (var i = 0; (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)
        str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));
    return str;
}





window.setInterval(function(){
var promise = '';	
var promise = $.getJSON('https://api-ropsten.etherscan.io/api?module=account&action=txlist&address=0x8C31bAFF265d5f2Fe3530E5d9cF9B46712b48B25&startblock=4199110&endblock=99999999&sort=asc&apikey=UVPS66SXVMYKVM9J8QMU6U86IG2KEN77QU');

promise.done(function(data) {	
maxsize = Object.keys(data.result).length;
incri = incri + 1;
output = data.result[incri].input;
output = output.substr(2);
output = hex2a(output);
myarr = output.split(":");

var promise2 = '';
var promise2 =  $.getJSON('https://jsonp4.herokuapp.com/?url=http://imdb-fetch.herokuapp.com/movie/'+myarr[0]);

	
promise2.done(function(datax) {
	myarr[4]= datax.title;
    myarr[5]= datax.year;
    myarr[6]= datax.poster;
    myarr[7]= datax.plot;
    myarr[8]= datax.rating;
    myarr[9]= datax.actors;	
    myarr[10]= datax.director;
    myarr[11]= datax.genres.replace( /,/g, "" );

	
	
	 elementx = '';
    if(myarr[6].length>15){
    var magnet = myarr[3];
    elementx = `
  <div class="filterx ${myarr[11]}" title="${myarr[4]} (${myarr[5]}) | Actors - ${myarr[9]} | Director - ${myarr[10]} " >
 <img onclick="copyToClipboard('${myarr[3]}')" 
	src="${myarr[6]}" 
	title="${myarr[4]} (${myarr[5]}) | Actors - ${myarr[9]} | Director - ${myarr[10]} "
	>
</img></div>
     `
 
    $(".mypanel").append(elementx);

  
    }

	
});
});

}, 700);
</script>
